<header>
  <ul class="nav">
    <li  class="park">
      <a>国内园区</a>
      <div class="menu">
        <ul>
          <li><a href="">北京园区</a></li>
          <li><a href="">容城园区</a></li>
          <li><a href="">晨风园区</a></li>
          <li><a href="">海宁园区</a></li>
          <li><a href="">青岛园区</a></li>
          <li><a href="">兴城园区</a></li>
        </ul>
      </div>
    </li>
    <li ><a href="./fashionActivities.html">主要业务</a></li>
    <li  type="logo"><a href="./index.html"><img src="../images/logo.svg" alt=""></a></li>
    <li ><a href="./characteristicService.html">最新动态</a></li>
    <li ><a href="./aboutUs.html">关于我们</a></li>
  </ul>
  <div class="language">
    <span class="cur">中文</span>/<span>EN</span>
  </div>
</header>
<script>

$('.nav li.park, .menu').hover(function(){
  $('.menu', this).stop().fadeIn(200)
},function() {
  $('.menu', this).stop().fadeOut(200)
})

var debounce = function(idle, action) {
  var last
  return function() {
    var ctx = this, args = arguments
    clearTimeout(last)
    last = setTimeout(function() {
      action.apply(ctx, args)
    }, idle)
  }
}

window.addEventListener('scroll', debounce(50, function(e) {
    var scrollY = 0
    if (window.scrollY) {
        scrollY = window.scrollY
    } else {
        scrollY = $(document).scrollTop()
    }
    if (scrollY < 50) {
        $('header').css('position', 'relative')
        return $('header').stop().slideDown('fast')
    }
    e.target.oldScrollTopPosition = e.target.scrollTopPosition || 0
    e.target.scrollTopPosition = (window.pageYOffset || document.scrollTop) - (document.clientTop || 0) || 0
    var direction = 'down'
    if (e.target.scrollTopPosition - e.target.oldScrollTopPosition < 0) {
        direction = 'up'
    }
    console.log(direction)
    if (e.target.scrollTopPosition > 0) {
        if (direction === 'down') {
            $('header').stop().slideUp('fast')
        } else {
            $('header').css('position', 'fixed')
            $('header').stop().slideDown('fast')
        }
    }
}))
</script>